{% extends 'base.html' %}

{% block title %}Group Details{% endblock %}

{% block body %}
<h1>{{ group.group_name }}</h1>

<h2>{{ group.group_name }}'s Members</h2>

<h3>Click on a user to see their assigned tasks.</h3>
<ul>
  {% for group_user in group_users %}
  <li>
    <a href="/users/{{ group_user.user.user_id }}">
      {{ group_user.user.username }}
    </a>
  </li>
  {% endfor %}
</ul>

<h2>Add A User to This Group</h2>
<form action="/add-group-user" method="POST">

  <input type="hidden" name="group_id" value="{{ group_id }}">

  <p>
    <select name="user_id">
      {% for user in users %}
      <option value="{{ user.user_id }}">{{ user.username }}</option>
      {% endfor %}
    </select>
  </p>

  <p>
    <input type="submit">
  </p>
</form>

<h2>{{ group.group_name }}'s Chore Library</h2>

<ul>
  {% for group_chore in group_chores %}
  <li>
    {{ group_chore.chore.chore_name }}
  </li>
  {% endfor %}
</ul>

<h2>Add Chore to Group Library</h2>
<form action="/add-group-chore" method="POST">

  <input type="hidden" name="group_id" value="{{ group_id }}">

  <p>
    <select name="chore_id">
      {% for chore in chores %}
      <option value="{{ chore.chore_id }}">{{ chore.chore_name }}</option>
      {% endfor %}
    </select>
  </p>

  <p>
    <input type="submit">
  </p>
</form>

<h2>Create New Chore</h2>
<form action="/add-chore" method="POST">
<p>
  Chore Name <input type="text" name="chore_name">
</p>

<p>
  Chore Description <input type="text" name="chore_description">
</p>

<input type="hidden" name="group_id" value="{{ group_id }}">

<p>
  <input type="submit">
</p>
</form>

<h2>Assign A Chore to a User in This Group</h2>
<form action="/add-assignment" method="POST">
  <p>
    Chores 
    <select name="chore_id">
      {% for group_chore in group_chores %}
      <option value="{{ group_chore.chore.chore_id }}">{{ group_chore.chore.chore_name }}</option>
      {% endfor %}
    </select>
  </p>

  <p>
  Users 
    <select name="user_id">
      {% for group_user in group_users %}
      <option value="{{ group_user.user.user_id }}">{{ group_user.user.username }}</option>
      {% endfor %}
    </select>
  </p>

  <input type="hidden" name="group_id" value="{{ group_id }}">
  
  <p>
    <input type="submit">
  </p>
</form>

{% endblock %}